{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://pkms.local/schemas/edge.schema.json",
  "title": "Edge",
  "description": "Graph edge connecting two nodes",
  "type": "object",
  "properties": {
    "from_id": {
      "type": "string",
      "description": "Source node ID (can be chunk_*, sec_*, ent_*)"
    },
    "to_id": {
      "type": "string",
      "description": "Target node ID (can be chunk_*, sec_*, ent_*)"
    },
    "type": {
      "type": "string",
      "enum": [
        "parent_of",
        "contains",
        "next",
        "prev",
        "similar",
        "mentions",
        "related",
        "categorized_as",
        "calls",
        "defines",
        "imports",
        "inherits"
      ],
      "description": "Edge type (parent_of, contains, next from chunker; calls, defines for code; categorized_as from taxonomy)"
    },
    "weight": {
      "type": ["number", "null"],
      "minimum": 0.0,
      "maximum": 1.0,
      "description": "Edge weight (0.0-1.0)"
    },
    "similarity": {
      "type": ["number", "null"],
      "minimum": 0.0,
      "maximum": 1.0,
      "description": "Semantic similarity score (for 'similar' edges)"
    },
    "overlap_chars": {
      "type": ["integer", "null"],
      "minimum": 0,
      "description": "Character overlap (for 'next'/'prev' edges)"
    }
  },
  "required": ["from_id", "to_id", "type"],
  "additionalProperties": false
}
